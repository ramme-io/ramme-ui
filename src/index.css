/* 1. LOAD THE FONTS (Critical for Theming) */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Lato:wght@400;700&family=Merriweather:wght@300;700&family=Roboto+Mono:wght@400;500&family=Courier+Prime&display=swap');

/* Import Tailwind base styles */
@import 'tailwindcss/base';
@import 'tailwindcss/components';
@import 'tailwindcss/utilities';

/* Import styles for third-party libraries */
@import 'ag-grid-community/styles/ag-grid.css';
@import 'ag-grid-community/styles/ag-theme-quartz.css';
@import 'tippy.js/dist/tippy.css';

/*
==============================================
RAMME THEME V2.2 - CSS VARIABLE DEFINITIONS
==============================================
*/

:root {
  /* === LAYER 1: BRAND IDENTITY === */
  --app-font-sans: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  --app-font-serif: Georgia, Cambria, 'Times New Roman', Times, serif;
  --app-font-mono: 'Menlo', 'Monaco', 'Courier New', monospace;

  /* === LAYER 2: COLOR SYSTEM === */
  --app-primary-color: 13 110 253; /* Blue-600 */
  --app-primary-foreground-color: 255 255 255;
  
  --app-secondary-color: 108 117 125; /* Gray-500 */
  --app-secondary-foreground-color: 255 255 255;
  
  --app-accent-color: 23 162 184; /* Cyan-600 */
  --app-accent-foreground-color: 255 255 255;
  
  --app-danger-color: 220 53 69;
  --app-danger-foreground-color: 255 255 255;

  /* Base UI Colors */
  --app-bg-color: 248 249 250;
  --app-card-bg-color: 255 255 255;
  --app-text-color: 33 37 41;
  --app-border-color: 222 226 230;

  /* Muted Surface */
  --app-muted-bg: 241 245 249; 
  --app-muted-text: 100 116 139; 

  /* === LAYER 3: SHAPE & BORDERS === */
  --app-border-radius-sm: 0.2rem;
  --app-border-radius-md: 0.375rem;
  --app-border-radius-lg: 0.5rem;
  --app-border-radius-full: 9999px;
  --app-border-width: 1px;

  /* === LAYER 4: FORM CONTROLS === */
  --app-input-bg-color: 255 255 255;
  --app-input-text-color: 33 37 41;
  --app-input-border-color: 206 212 218;
  --app-input-focus-ring-color: 13 110 253;
  --app-input-placeholder-color: 108 117 125;

  /* === LAYER 5: COMPONENT-SPECIFIC STYLES === */
  --app-table-header-bg: 248 249 250;
  --app-table-header-text: 73 80 87;
  --app-table-row-hover-bg: 233 236 239;
  --app-table-grid-line-color: 222 226 230;
  --app-chart-grid-color: 233 236 239;

  /* Notification Colors */
  --app-info-color: 59 130 246; 
  --app-info-foreground-color: 255 255 255;
  --app-success-color: 34 197 94; 
  --app-success-foreground-color: 255 255 255;
  --app-warning-color: 245 158 11; 
  --app-warning-foreground-color: 255 255 255;

  /* Chart Colors (Synced with Brand) */
  --app-chart-1: 13 110 253;  /* Primary (Blue) */
  --app-chart-2: 23 162 184;  /* Accent (Cyan) */
  --app-chart-3: 102 16 242;  /* Indigo */
  --app-chart-4: 255 193 7;   /* Amber */
  --app-chart-5: 220 53 69;   /* Red */
  
  /* The Palette String used by JS Charts */
  --app-chart-palette: 13 110 253, 23 162 184, 102 16 242, 255 193 7, 220 53 69;
}

/* --- Dark Theme --- */
.dark {
  color-scheme: dark; /* Helps browser native inputs */
  --app-primary-color: 110 168 254; /* Blue-300 */
  --app-primary-foreground-color: 5 20 40;
  --app-secondary-color: 173 181 189;
  --app-secondary-foreground-color: 5 20 40;
  --app-accent-color: 77 189 207;
  --app-accent-foreground-color: 5 20 40;
  
  --app-text-color: 233 236 239;
  --app-bg-color: 11 17 23;
  --app-card-bg-color: 26 35 46;
  --app-border-color: 73 80 87;

  --app-muted-bg: 30 41 59; 
  --app-muted-text: 148 163 184;
  
  --app-input-bg-color: 33 37 41;
  --app-input-text-color: 233 236 239;
  --app-input-border-color: 73 80 87;
  --app-input-focus-ring-color: 110 168 254;
  --app-input-placeholder-color: 173 181 189;

  --app-table-header-bg: 33 37 41;
  --app-table-header-text: 206 212 218;
  --app-table-row-hover-bg: 52 58 64;
  --app-table-grid-line-color: 73 80 87;
  --app-chart-grid-color: 52 58 64;

  --app-info-color: 59 130 246; 
  --app-info-foreground-color: 255 255 255;
  --app-success-color: 34 197 94; 
  --app-success-foreground-color: 255 255 255;
  --app-warning-color: 245 158 11; 
  --app-warning-foreground-color: 255 255 255;

  /* Chart Colors (Lighter for Dark Mode) */
  --app-chart-1: 110 168 254; /* Primary (Light Blue) */
  --app-chart-2: 77 189 207;  /* Accent (Cyan) */
  --app-chart-3: 167 139 250; /* Violet */
  --app-chart-4: 252 211 77;  /* Amber */
  --app-chart-5: 252 165 165; /* Rose */

  --app-chart-palette: 110 168 254, 77 189 207, 167 139 250, 252 211 77, 252 165 165;
}

/* --- Corporate Theme (Green/Professional) --- */
.corporate {
  --app-primary-color: 16 185 129; /* Emerald-500 */
  --app-primary-foreground-color: 255 255 255;
  --app-secondary-color: 245 158 11; /* Amber-500 */
  --app-secondary-foreground-color: 255 255 255;
  --app-accent-color: 59 130 246; /* Blue-500 */
  --app-accent-foreground-color: 255 255 255;
  
  --app-text-color: 55 65 81;
  --app-bg-color: 249 250 251;
  --app-card-bg-color: 255 255 255;
  --app-border-color: 209 213 219;

  --app-muted-bg: 243 244 246;
  --app-muted-text: 107 114 128;

  --app-border-radius-md: 0.25rem;

  --app-input-bg-color: 255 255 255;
  --app-input-text-color: 55 65 81;
  --app-input-border-color: 209 213 219;
  --app-input-focus-ring-color: 16 185 129; /* Green Ring */
  --app-input-placeholder-color: 156 163 175;

  --app-table-header-bg: 243 244 246;
  --app-table-header-text: 75 85 99;
  --app-table-row-hover-bg: 229 231 235;
  --app-table-grid-line-color: 209 213 219;
  --app-chart-grid-color: 229 231 235;

  --app-info-color: 59 130 246;
  --app-info-foreground-color: 255 255 255;
  --app-success-color: 34 197 94;
  --app-success-foreground-color: 255 255 255;
  --app-warning-color: 245 158 11;
  --app-warning-foreground-color: 255 255 255;

  /* Chart Colors (Earth Tones) */
  --app-chart-1: 16 185 129; /* Emerald */
  --app-chart-2: 245 158 11; /* Amber */
  --app-chart-3: 59 130 246; /* Blue */
  --app-chart-4: 107 114 128; /* Gray */
  --app-chart-5: 239 68 68;  /* Red */

  --app-chart-palette: 16 185 129, 245 158 11, 59 130 246, 107 114 128, 239 68 68;
}

/* --- Midnight Theme (Deep Purple/Indigo) --- */
.midnight {
  color-scheme: dark;
  --app-primary-color: 129 140 248; /* Indigo-400 */
  --app-primary-foreground-color: 30 41 59;
  --app-secondary-color: 192 132 252; /* Purple-400 */
  --app-secondary-foreground-color: 30 41 59;
  --app-accent-color: 99 102 241; /* Indigo-500 */
  --app-accent-foreground-color: 255 255 255;
  
  --app-text-color: 226 232 240;
  --app-bg-color: 15 23 42;
  --app-card-bg-color: 30 41 59;
  --app-border-color: 71 85 105;

  --app-muted-bg: 30 41 59; 
  --app-muted-text: 148 163 184;

  --app-border-radius-md: 0.5rem;

  --app-input-bg-color: 51 65 85;
  --app-input-text-color: 226 232 240;
  --app-input-border-color: 71 85 105;
  --app-input-focus-ring-color: 129 140 248;
  --app-input-placeholder-color: 148 163 184;

  --app-table-header-bg: 51 65 85;
  --app-table-header-text: 203 213 225;
  --app-table-row-hover-bg: 71 85 105;
  --app-table-grid-line-color: 71 85 105;
  --app-chart-grid-color: 51 65 85;

  --app-info-color: 59 130 246;
  --app-info-foreground-color: 255 255 255;
  --app-success-color: 34 197 94;
  --app-success-foreground-color: 255 255 255;
  --app-warning-color: 245 158 11;
  --app-warning-foreground-color: 255 255 255;

  /* Chart Colors (Neon/Cyber) */
  --app-chart-1: 129 140 248; /* Indigo */
  --app-chart-2: 192 132 252; /* Purple */
  --app-chart-3: 45 212 191;  /* Teal */
  --app-chart-4: 251 113 133; /* Rose */
  --app-chart-5: 250 204 21;  /* Yellow */

  --app-chart-palette: 129 140 248, 192 132 252, 45 212 191, 251 113 133, 250 204 21;
}

/* --- Blueprint Theme (Technical Blue) --- */
.blueprint {
  --app-primary-color: 0 123 255; /* Tech Blue */
  --app-primary-foreground-color: 255 255 255;
  --app-secondary-color: 108 117 125;
  --app-secondary-foreground-color: 255 255 255;
  --app-accent-color: 23 162 184;
  --app-accent-foreground-color: 255 255 255;
  
  --app-text-color: 51 51 51;
  --app-bg-color: 255 255 255;
  --app-card-bg-color: 255 255 255;
  --app-border-color: 0 123 255;

  --app-muted-bg: 230 230 230;
  --app-muted-text: 100 100 100;

  --app-border-radius-md: 0rem;
  --app-border-width: 2px;

  --app-input-bg-color: 255 255 255;
  --app-input-text-color: 51 51 51;
  --app-input-border-color: 0 123 255;
  --app-input-focus-ring-color: 0 123 255;
  --app-input-placeholder-color: 108 117 125;
  
  --app-table-header-bg: 248 249 250;
  --app-table-header-text: 73 80 87;
  --app-table-row-hover-bg: 230 230 230;
  --app-table-grid-line-color: 0 123 255;
  --app-chart-grid-color: 230 242 255;

  --app-info-color: 59 130 246;
  --app-info-foreground-color: 255 255 255;
  --app-success-color: 34 197 94;
  --app-success-foreground-color: 255 255 255;
  --app-warning-color: 245 158 11;
  --app-warning-foreground-color: 255 255 255;

  /* Chart Colors (Blue Monochromatic) */
  --app-chart-1: 0 123 255;   /* Primary Blue */
  --app-chart-2: 23 162 184;  /* Cyan */
  --app-chart-3: 108 117 125; /* Gray */
  --app-chart-4: 253 126 20;  /* Orange (Warning) */
  --app-chart-5: 220 53 69;   /* Red (Error) */

  --app-chart-palette: 0 123 255, 23 162 184, 108 117 125, 253 126 20, 220 53 69;
}

/* === AG GRID THEME OVERRIDES ===
   These are placed LAST to ensure they override the default Quartz styles.
   We target the class directly to ensure it picks up the CSS variables
   from whatever scope it resides in.

   We use !important on the variables to ensure they override the 
   defaults set by the ag-theme-quartz class itself.
*/
.ag-theme-quartz {
  --ag-font-family: var(--app-font-sans) !important;
  --ag-background-color: rgb(var(--app-card-bg-color)) !important;
  --ag-foreground-color: rgb(var(--app-text-color)) !important;
  --ag-border-color: transparent !important;
  
  /* Grid Lines */
  --ag-secondary-border-color: rgb(var(--app-table-grid-line-color)) !important;
  --ag-row-border-color: rgb(var(--app-table-grid-line-color)) !important;
  
  /* Headers */
  --ag-header-background-color: rgb(var(--app-table-header-bg)) !important;
  --ag-header-foreground-color: rgb(var(--app-table-header-text)) !important;
  
  /* Rows */
  --ag-odd-row-background-color: rgb(var(--app-card-bg-color)) !important;
  --ag-row-hover-color: rgb(var(--app-table-row-hover-bg)) !important;
  
  /* Selection */
  --ag-selected-row-background-color: rgb(var(--app-primary-color)) !important;
  --ag-selected-row-foreground-color: rgb(var(--app-primary-foreground-color)) !important;
  --ag-range-selection-background-color: rgba(var(--app-primary-color), 0.2) !important;
  
  /* Inputs */
  --ag-input-focus-border-color: rgb(var(--app-primary-color)) !important;
}

/* --- Custom Tippy.js Theme --- */
.tippy-box[data-theme~='ramme'] {
  background-color: rgb(var(--app-secondary-color));
  color: rgb(var(--app-secondary-foreground-color));
  border-radius: var(--app-border-radius-md);
  font-size: 0.875rem;
  line-height: 1.25rem;
  filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.15));
}
.tippy-box[data-theme~='ramme'][data-placement^='top'] > .tippy-arrow::before { border-top-color: rgb(var(--app-secondary-color)); }
.tippy-box[data-theme~='ramme'][data-placement^='bottom'] > .tippy-arrow::before { border-bottom-color: rgb(var(--app-secondary-color)); }
.tippy-box[data-theme~='ramme'][data-placement^='left'] > .tippy-arrow::before { border-left-color: rgb(var(--app-secondary-color)); }
.tippy-box[data-theme~='ramme'][data-placement^='right'] > .tippy-arrow::before { border-right-color: rgb(var(--app-secondary-color)); }
.tippy-content { padding: 0.5rem 0.75rem; }